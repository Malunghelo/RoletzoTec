<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RGT - Real IT Solution</title>
    <link rel="stylesheet" href="cart.css">
    <style>
        /* Add hover and active link styling */
        .navbar a:hover,
        .navbar a.active {
            background-color: #ffffff;
            color: #000000;
            padding: 8px 12px;
            margin-right: 5px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .content-section { display: none; }
        .hide-elements .dropdown, .hide-elements .search, .hide-elements .cart { display: none; }
        .header { transition: height 0.3s ease; }
        .hidden { display: none; }
        .header.shrink { height: 100px; }
    </style>
</head>
<body>
    <div class="top-bar">
        <p><i class="fa-solid fa-envelope"></i> rolekzotrading@gmail.com</p>
        <p><i class="fa-solid fa-phone"></i>+27 76 309 9830</p>
    </div>

    <div class="header">
        <div class="navbar">
            <img src="assets/RGT.jpg" alt="Logo" class="logo" width="120" height="70" loading="lazy">
            <ul>
                <li><a href="#home" data-target="content-home">Home</a></li>
                <li><a href="#repairs" data-target="content-repair">Repair</a></li>
                <li><a href="#about" data-target="content-about">About</a></li>
                <li><a href="#contact" data-target="content-contact">Contact</a></li>
            </ul>
        </div>

        <div class="navbar-b" id="navbar-b">
            <div class="dropdown">
                <select id="dropdown">
                    <option value="1">All</option>
                    <option value="2">New</option>
                    <option value="3">Preowned</option>
                </select>
            </div>
            <div class="search">
                <input type="search" placeholder="Search...">
                <i class="fa-solid fa-magnifying-glass"></i>
            </div>
            <div class="cart"><i class="fa-solid fa-cart-shopping"></i><p>0</p></div>
        </div>
    </div>

    <div class="container">
        <div id="root"></div>
        <div id="content-placeholder"></div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.content-section');
            const navbarLinks = document.querySelectorAll('.navbar a');
            const dropdown = document.getElementById('dropdown');
            const navbarB = document.getElementById('navbar-b');
            const header = document.querySelector('.header');

            function hideAllSections() {
                sections.forEach(section => section.style.display = 'none');
            }

            function loadHomeContent() {
                fetch('home.html')
                    .then(response => response.text())
                    .then(data => {
                        document.getElementById('content-placeholder').innerHTML = data;
                    })
                    .catch(error => console.error('Error loading home.html:', error));
            }

            function showSection(sectionId) {
                hideAllSections();
                if (sectionId === 'content-home') {
                    loadHomeContent();
                } else {
                    const section = document.getElementById(sectionId);
                    if (section) section.style.display = 'block';
                }
                localStorage.setItem('activeSection', sectionId);

                const isDropdownSection = ['content-all', 'content-new', 'content-preowned'].includes(sectionId);
                navbarLinks.forEach(link => {
                    link.classList.remove('active');
                    if (isDropdownSection) {
                        if (link.getAttribute('data-target') === 'content-home') {
                            link.classList.add('active');
                        }
                    } else {
                        if (link.getAttribute('data-target') === sectionId) {
                            link.classList.add('active');
                        }
                    }
                });

                const hash = `#${sectionId.replace('content-', '')}`;
                history.pushState(null, null, hash);

                if (['content-repair', 'content-about', 'content-contact'].includes(sectionId)) {
                    navbarB.classList.add('hidden');
                    header.classList.add('shrink');
                } else {
                    navbarB.classList.remove('hidden');
                    header.classList.remove('shrink');
                }
            }

            dropdown.addEventListener('change', function() {
                const value = this.value;
                showSection(value === '1' ? 'content-all' : value === '2' ? 'content-new' : 'content-preowned');
            });

            navbarLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    showSection(this.getAttribute('data-target'));
                });
            });

            function handleHashChange() {
                const hash = window.location.hash.substring(1);
                const sectionId = `content-${hash}`;
                if (document.getElementById(sectionId)) {
                    showSection(sectionId);
                } else {
                    showSection('content-home');
                }
            }

            window.addEventListener('hashchange', handleHashChange);
            handleHashChange();
        });
    </script>
</body>
</html>